/* Variables */

:root {
    --lrg-text-black: hsl(0 0% 10%); /* 90% tint as per lrg guidelines */
    --lrg-text-white: #f9f9f9;
    --lrg-primary-100: hsl(0, 6%, 75%);
    --lrg-primary-50: hsl(0, 6%, 40%);


    --code-dark: #444;
    --code-light:#fefef9;
    --code-outline:#e6e6e6;

    --underscore-dark: #bbb;

    --edge-margin:3vw;
    --main-center-gutter: 4rem;
    --readable-line-width: 50rem;

    --link-list-gutter: 4rem;

    --font-title: 'Lexend', sans-serif;
    --font-body: 'EB Garamond', serif;
}



/*

    I've put a load of CSS normalisation stuff at the top here, usually you'd put it in a different file, but this isn't auto-generated, but copy-pasta.


*/

/* Box sizing rules */
*,
*::before,
*::after {
    box-sizing: border-box;
}

/* Remove default margin */
body,
h1,
h2,
h3,
h4,
p,
figure,
blockquote,
dl,
dd {
    margin: 0;
}

/* Remove list styles on ul, ol elements with a list role, which suggests default styling will be removed */
ul[role='list'],
ol[role='list'] {
    list-style: none;
}

/* Set core root defaults */
html:focus-within {
    scroll-behavior: smooth;
}

/* Set core body defaults */
body {
    min-height: 100vh;
    text-rendering: optimizeSpeed;
    line-height: 1.5;
}

/* A elements that don't have a class get default styles */
a:not([class]) {
    text-decoration-skip-ink: auto;
}

/* Make images easier to work with */
img,
picture {
    max-width: 100%;
    display: block;
}

/* Inherit fonts for inputs and buttons */
input,
button,
textarea,
select {
    font: inherit;
}

/* Remove all animations, transitions and smooth scroll for people that prefer not to see them */
@media (prefers-reduced-motion: reduce) {
    html:focus-within {
        scroll-behavior: auto;
    }

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

/*

fonts

*/


/* Page layout */
html {
    font-size: 14px; /* declares a base font-size, can use this for sizing relatively, by using rem for everything... */
}
body {
    /* kill those default margins & padding */
    padding:0;
    margin:0;
    font-family: var(--font-body);
    font-size: 1.8rem;
    display:flex;
    flex-direction: column;
    min-height: 100vh;
    background-color: var(--lrg-primary-100);
}


/* This is cribbed from https://every-layout.dev/layouts/sidebar/ - no need for media queries! */
#content {
    flex:auto;
    display: flex;
    flex-wrap: wrap;
    gap: var(--main-center-gutter);
    max-width: calc(2.4 * var(--readable-line-width));
    align-items: baseline;
}

#content > :last-child {
    flex-basis: var(--readable-line-width);
    flex-grow: 1;
}

#content > :first-child {
    flex-basis: 0;
    flex-grow: 999;
    min-inline-size: 50%;
}

/* Colours */
body {
    color: var(--lrg-text-black);
}
header .heading {
    color: var(--lrg-text-white);
}
header .subheading {
    background: var(--lrg-secondary-blue-50);
}
footer {
    background: #222;
    color: var(--lrg-text-white);
    margin-top:2em;
}

footer a {
    color: var(--lrg-text-white);
}
code {
    color: var(--code-dark);
    background-color: var(--code-light);
    padding: 0 0.3em;
    font-size: 0.8em;
    display: inline-block;
    outline: 1px solid var(--code-outline);
    line-height: 1.8;
    vertical-align: bottom;
}


/* Margins & paddings */

footer,
#content,
nav,
header .heading,
header .subheading {
    padding: 0 var(--edge-margin);
}
h1, h2, h3, h4, h5, h6 {
    line-height: 1.2em;
    padding:0.4em 0;
    font-family: var(--font-title);
}
header .heading {
    border-bottom: 3px solid var(--lrg-text-black);
    border-image: repeating-linear-gradient( 45deg, black, grey 4%) 10;
}

header .subheading {
    border-bottom: 1px solid var(--lrg-text-black)
}
main {
    margin-bottom:  2rem;
}
aside {
    margin-top:2rem;
    margin-bottom:  2rem;
}
.related li {
    padding-bottom:1em;
    border-bottom: solid 1px var(--underscore-dark);
    margin-bottom:1em;
    max-width: var(--readable-line-width);
}
.related h2 {
    width: 100%;
}
.related h2 a {
    text-decoration: none;
    color: var(--lrg-text-black);
    border-bottom:2px double var(--lrg-text-black)

}

header .subheading, footer {
    padding-top: 1rem;
    padding-bottom: 1rem;
}

/* Breadcrumb stuff */
nav.breadcrumb {
    padding:1.4rem 0;
    margin:0 var(--edge-margin);
    border-bottom:var(--underscore-dark) solid 1px;
}
nav.breadcrumb ul {
    display:flex;
    flex-wrap: wrap;
    padding:0;
}
nav.breadcrumb li {
    list-style:none;
    padding-right:0.5em;
}
nav.breadcrumb li::before {
    content: "∕\00a0"
}
nav.breadcrumb li a {
    text-decoration: none;
}
nav.breadcrumb li:first-child::before {
    content: "🏠"
}
nav.breadcrumb li.active a {
    font-weight: 700;
    color: var(--lrg-text-black);
}

main .content-meta {
    color: var(--lrg-primary-100);
    text-align: right;
    margin-bottom:2rem;
}

main p, main li {
    margin-bottom: 1rem;
    max-width: var(--readable-line-width);
}

main figure, aside figure {
    margin: 0.5em 0;
}
main figure figcaption ,
aside figure figcaption {
    font-size:90%;
    font-style: italic;
    text-align: center;
}

aside picture.thumbnail-image {
    max-width: 50%;
}

main blockquote,
aside blockquote {
    padding: 1em 2em;
    background: var(--code-light);
    max-width: var(--readable-line-width);
}

[role='list'] {
    padding:0;
    margin:0;
}
footer > * {
    padding:1rem 0;
}
.link-lists {
    display: flex;
    margin-top: 1rem;
    flex-wrap: wrap;
    gap: var(--link-list-gutter);
}

.link-lists > * {
    flex-grow: 1;
    flex-basis: calc(( var(--readable-line-width) - 100%) * 999);
}

.link-lists > :nth-last-child(n+ 5),
.link-lists > :nth-last-child(n+ 5) ~ * {
    flex-basis: 100%;
}

@import "./content-meta.scss";